<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Audio</title>
</head>

<body>
  <audio id="audio" controls preload="none">
    <source src="horse.ogv" type="audio/ogg">
    <source src="horse.mp3" type="audio/mpeg">
  </audio>
  <br><br>
  <img id="player" onclick="play()" src="./gu.jfif" alt="">
  <img id="pause" style="display:none" onclick="pause()" src="./ro.jpg" alt="">


  <script>
    let audio = document.getElementById("audio");
    let image = document.getElementById("player");
    let playerPause = document.getElementById("pause");

    audio.onended = function () {
      image.src = "gu.jfif"

    }

    function play() {
      image.src = "giphy.gif"

      // esse setTimeout nao precisa Ã© so para atrasar um pouco para mostrar o gif
      setTimeout(() => {
        audio.oncanplay()
      }, 1000);

      audio.oncanplay = function () {
        audio.play();
        player.style.display = "none";
        playerPause.style.display = "block";
      }

      // se nao for usar o setTimeout descomenta a linha de baixo
      // audio.oncanplay()
    }

    function pause() {
      audio.pause();
      player.style.display = "block";
      playerPause.style.display = "none";
    }
  </script>
</body>

</html>